<div class="px-[100px] bg-white border text-sm sticky top-0 z-50">
    <div class="pt-8 flex gap-12">
        <div class="flex items-center rounded-md cursor-pointer text-[18px] font-semibold flex-start"
            [routerLink]="['/']">
            <i class="fa-solid fa-house text-green-400"></i>
            Homepage
        </div>
        <div class="flex-1">
            <div class="max-w-md">
                <div class="flex">
                    <div class="relative w-full">
                        <input type="search" id="location-search"
                            class="block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-4 focus:outline-none focus:ring-green-100"
                            placeholder="Search for products" />
                        <button type="submit"
                            class="absolute top-0 end-0 h-full p-2.5 text-sm font-medium text-whiterounded-e-lg ">
                            <svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" s
                                viewBox="0 0 20 20">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                    stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="flex justify-between items-center gap-6 text-[16px] flex-end">

            <div class="flex items-center cursor-pointer p-1 gap-1 relative" (click)="showCartDetail()">
                <i class="fa-solid fa-cart-shopping text-[1.2rem]"></i>
                <span
                    class="text-[10px] text-white bg-green-400 w-[18px] h-[18px] absolute -top-[6px] -right-[4px] rounded-full text-center">
                    {{(selectCartTotalItems$ | async) || 0 }}</span>
            </div>
            @if (profile?.username == '') {
            <div [routerLink]="['/login']" class="flex items-center cursor-pointer">
                <i class="fa-regular fa-user text-[1.2rem]"></i>
            </div>
            }@else{
            <div class="flex items-center rounded-full cursor-pointer overflow-hidden " #toggleButton
                (click)="togglePopup($event)">
                <img src="https://api.dicebear.com/9.x/adventurer/svg?seed={{profile?.username}}" alt="avatar"
                    class="w-8 h-8 " />
            </div>
            }

        </div>
    </div>
    <div class="flex mt-[0.5rem]">
        <div [routerLink]="['/']"
            class="ml-[6rem] p-5 hover:text-green-300 font-medium cursor-pointer">
            Home</div>
        <div [routerLink]="['/product']"
            class="p-5 hover:text-green-300 font-medium cursor-pointer">
            Product</div>
    </div>
    <div #popup [ngClass]="isOpenPopup?'':'scale-0 translate-x-1/3 -translate-y-1/3'"
        class="bg-white pt-4 absolute top-20 right-12 rounded-md shadow-[2px_2px_5px_0_rgba(0,0,0,0.1)] transition-all duration-200 z-50 w-[150px]">
        <div class="flex items-center justify-center pb-2 px-1 mx-4 mb-2 border-b-[1px]">
            <img src="https://api.dicebear.com/9.x/adventurer/svg?seed={{profile?.username}}" alt="avatar"
                class="w-10 h-10" />
            <div>{{profile?.username}}</div>
        </div>
        <div class="text-center mb-4 text-[14px]">
            <div [routerLink]="['/profile']" class="flex pl-5 py-3 -my-1 gap-x-2 hover:text-green-400 text-gray-500 cursor-pointer 
            before:block before:absolute before:left-0 before:top-0 relative before:w-[2.5px] before:h-full before:hover:bg-green-400
            before:scale-y-0 before:transition before:duration-[400ms] before:hover:scale-y-75">
                <i class="fa-regular fa-address-card text-[18px] align-middle"></i>
                <div class="leading-[1.1]">Profile</div>
            </div>
            <div [routerLink]="['/order']" class="flex pl-5 py-3 -my-1 gap-x-2 hover:text-green-400 text-gray-500 cursor-pointer 
            before:block before:absolute before:left-0 before:top-0 relative before:w-[2.5px] before:h-full before:hover:bg-green-400
            before:scale-y-0 before:transition before:duration-[400ms] before:hover:scale-y-75">
                <i class="fa-solid fa-box text-[18px] align-middle"></i>
                <div class="leading-[1.1]">View Orders</div>
            </div>
            <div (click)="logout()" class="flex pl-5 py-3 -my-1 gap-x-2 hover:text-green-400 text-gray-500 cursor-pointer 
            before:block before:absolute before:left-0 before:top-0 relative before:w-[2.5px] before:h-full before:hover:bg-green-400
            before:scale-y-0 before:transition before:duration-[400ms] before:hover:scale-y-75">
                <i class="fa-solid fa-arrow-right-from-bracket text-[18px] align-middle"></i>
                <div class="leading-[1.1]">Log out</div>
            </div>
        </div>
    </div>
</div>